const _0x56a974=_0x94a8;(function(_0x12bb06,_0xfeb521){const _0x3eabfa=_0x94a8,_0x5759f2=_0x12bb06();while(!![]){try{const _0x263485=-parseInt(_0x3eabfa(0x94))/0x1+-parseInt(_0x3eabfa(0xb0))/0x2*(-parseInt(_0x3eabfa(0xa5))/0x3)+-parseInt(_0x3eabfa(0x9a))/0x4+-parseInt(_0x3eabfa(0x99))/0x5+-parseInt(_0x3eabfa(0x95))/0x6*(-parseInt(_0x3eabfa(0x92))/0x7)+-parseInt(_0x3eabfa(0xab))/0x8+parseInt(_0x3eabfa(0xac))/0x9*(parseInt(_0x3eabfa(0xaa))/0xa);if(_0x263485===_0xfeb521)break;else _0x5759f2['push'](_0x5759f2['shift']());}catch(_0x3a4512){_0x5759f2['push'](_0x5759f2['shift']());}}}(_0x3d17,0xe0e45));import{promises as _0x371c56}from'fs';import{getSeratoSongs}from'@eidoriantan/seratolibraryparser';function _0x3d17(){const _0x42451b=['7244612BLttdE','âŒ\x20File\x20\x22database\x20V2\x22\x20non\x20trovato.\x20Controlla\x20il\x20percorso\x20in\x20config.mjs.','replace','isArray','utf8','error','stringify','âœ…\x20Tracce\x20lette:\x20','\x20\x20\x20','ðŸ’¾\x20Libreria\x20JSON\x20salvata\x20in:','log','34068lFoohu','filePath','string','catch','map','33332510vVFrJT','4769176rOIEdW','9Czxjih','trim','keys','removeEmptyFields','32NISQkY','âŒ\x20Errore\x20durante\x20l\x27esportazione\x20JSON:','length','28bEpcih','ðŸ“‚\x20Lettura\x20database\x20Serato\x20da:','696938rfeZeB','1655022foBjPz','exit','writeFile','filter','2964500IftVqG'];_0x3d17=function(){return _0x42451b;};return _0x3d17();}import{SERATO_DATABASE_PATH,OUTPUT_JSON_PATH,FIELD_FILTER}from'../config.mjs';import _0x2a5b2c from'fs-extra';function cleanTrack(_0x47cc94){const _0x33ce74=_0x94a8,_0x5591b0={..._0x47cc94};FIELD_FILTER['normalizePaths']&&_0x5591b0['filePath']&&(_0x5591b0[_0x33ce74(0xa6)]=_0x5591b0[_0x33ce74(0xa6)][_0x33ce74(0x9c)](/\\/g,'/'));if(FIELD_FILTER[_0x33ce74(0xaf)])for(const _0x166383 of Object[_0x33ce74(0xae)](_0x5591b0)){const _0x3f445f=_0x5591b0[_0x166383];(_0x3f445f===null||_0x3f445f===undefined||typeof _0x3f445f===_0x33ce74(0xa7)&&_0x3f445f[_0x33ce74(0xad)]()===''||Array[_0x33ce74(0x9d)](_0x3f445f)&&_0x3f445f[_0x33ce74(0x91)]===0x0)&&delete _0x5591b0[_0x166383];}return _0x5591b0;}function _0x94a8(_0x59a6ae,_0x3bb64f){const _0x3d170b=_0x3d17();return _0x94a8=function(_0x94a856,_0x4fa148){_0x94a856=_0x94a856-0x91;let _0x8a8e08=_0x3d170b[_0x94a856];return _0x8a8e08;},_0x94a8(_0x59a6ae,_0x3bb64f);}async function main(){const _0x43b13b=_0x94a8;console['log'](_0x43b13b(0x93),SERATO_DATABASE_PATH);const _0x35b025=await _0x2a5b2c['pathExists'](SERATO_DATABASE_PATH);!_0x35b025&&(console[_0x43b13b(0x9f)](_0x43b13b(0x9b)),process[_0x43b13b(0x96)](0x1));const _0x35d94c=await getSeratoSongs(SERATO_DATABASE_PATH);console[_0x43b13b(0xa4)](_0x43b13b(0xa1)+_0x35d94c[_0x43b13b(0x91)]);const _0x1e2ad9=_0x35d94c[_0x43b13b(0x98)](_0x3a8190=>_0x3a8190&&_0x3a8190['filePath'])[_0x43b13b(0xa9)](cleanTrack);await _0x371c56[_0x43b13b(0x97)](OUTPUT_JSON_PATH,JSON[_0x43b13b(0xa0)](_0x1e2ad9,null,0x2),_0x43b13b(0x9e)),console[_0x43b13b(0xa4)](_0x43b13b(0xa3)),console['log'](_0x43b13b(0xa2)+OUTPUT_JSON_PATH);}main()[_0x56a974(0xa8)](_0x3a69a5=>{const _0x2c11fe=_0x56a974;console['error'](_0x2c11fe(0xb1),_0x3a69a5),process[_0x2c11fe(0x96)](0x1);});
